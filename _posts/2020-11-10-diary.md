---
layout:     post
title:      gitHub探索
subtitle:   协议、使用
date:       2020-11-10
author:     Xie Chang
header-img: img/post-bg-article.jpg
catalog: true
tags:
    - github
---
# git探索
## git协议
Git 可以使用四种主要的协议来传输资料：本地协议（Local），HTTP 协议，SSH（Secure Shell）协议及 Git 协议。在此，我将会根据搜集的资料，讨论哪些些协议及哪些情形应该使用（或避免使用）他们。
### 本地协议 Local protocol
#### 介绍
1. 这常见于团队每一个成员都对一个共享的文件系统（例如一个挂载的 NFS）拥有访问权，或者比较少见的多人共用同一台电脑的情况。 但其实后者并不理想，因为如果所有代码版本库如果长存于同一台电脑，更可能发生灾难性的损失。
2. 如果你使用共享文件系统，就可以从本地版本库克隆（clone）、推送（push）以及拉取（pull）。 像这样去克隆一个版本库或者增加一个远程到现有的项目中，使用版本库路径作为 URL。 例如，克隆一个本地版本库，可以执行如下的命令：

```
git clone /opt/git/project.git
```
或你可以执行这个命令：

```
git clone file:///opt/git/project.git
```
#### 优点
1. 基于文件系统的版本库的优点是简单，并且直接使用了现有的文件权限和网络访问权限。 如果已经有共享文件系统，建立版本库会十分容易。
2. 这是一种快速从别人的工作目录中拉取更新的方法。 如果你和别人一起合作一个项目，他想让你从版本库中拉取更新时，运行类似 git pull /home/john/project 的命令比推送到服务再取回简单多了。
#### 缺点
1. 共享文件系统比较难配置，并且比起基本的网络连接访问，这不方便从多个位置访问。
2. 这个协议并不保护仓库避免意外的损坏。 每一个用户都有“远程”目录的完整 shell 权限，没有方法可以阻止他们修改或删除 Git 内部文件和损坏仓库。
### HTTP 协议
#### 介绍
Git 通过 HTTP 通信有两种模式，分成新旧两种：新版本的 HTTP 协议一般被称为“智能” HTTP 协议，旧版本的一般被称为“哑” HTTP 协议。
##### 智能（Smart） HTTP 协议 
“智能” HTTP 协议的运行方式和 SSH 及 Git 协议类似，只是运行在标准的 HTTP/S 端口上并且可以使用各种 HTTP 验证机制，这意味着使用起来会比 SSH 协议简单的多，比如可以使用 HTTP 协议的用户名／密码的基础授权，免去设置 SSH 公钥。
##### 哑（Dumb） HTTP 协议 
如果服务器没有提供智能 HTTP 协议的服务，Git 客户端会尝试使用更简单的“哑” HTTP 协议。 哑 HTTP 协议里 web 服务器仅把裸版本库当作普通文件来对待，提供文件服务。 哑 HTTP 协议的优美之处在于设置起来简单。 基本上，只需要把一个裸版本库放在 HTTP 根目录，设置一个叫做 post-update 的挂钩就可以了（见 Git 钩子）。 此时，只要能访问 web 服务器上你的版本库，就可以克隆你的版本库。 下面是设置从 HTTP 访问版本库的方法：

```
$ cd /var/www/htdocs/
$ git clone --bare /path/to/git_project gitproject.git
$ cd gitproject.git
$ mv hooks/post-update.sample hooks/post-update
$ chmod a+x hooks/post-update
```
然后别人就可以通过类似下面的命令来克隆：

```
$ git clone https://example.com/gitproject.git
```
#### 优点
我将只关注智能 HTTP 协议的优点。不同的访问方式只需要一个 URL 以及服务器只在需要授权时提示输入授权信息，这两个简便性让终端用户使用 Git 变得非常简单。 相比 SSH 协议，可以使用用户名／密码授权是一个很大的优势，这样用户就不必须在使用 Git 之前先在本地生成 SSH 密钥对再把公钥上传到服务器。 对非资深的使用者，或者系统上缺少 SSH 相关程序的使用者，HTTP 协议的可用性是主要的优势。 与 SSH 协议类似，HTTP 协议也非常快和高效。
#### 缺点
在一些服务器上，架设 HTTP/S 协议的服务端会比 SSH 协议的棘手一些。 除了这一点，用其他协议提供 Git 服务与 “智能” HTTP 协议相比就几乎没有优势了。
### SSH 协议
#### 介绍
架设 Git 服务器时常用 SSH 协议作为传输协议。 因为大多数环境下已经支持通过 SSH 访问 —— 即时没有也比较很容易架设。 SSH 协议也是一个验证授权的网络协议；并且，因为其普遍性，架设和使用都很容易。

通过 SSH 协议克隆版本库，可以指定一个 ssh:// 的 URL：

```
$ git clone ssh://user@server/project.git
```
或者使用一个简短的 scp 式的写法：

```
$ git clone user@server:project.git
```
#### 优势
1. SSH 架设相对简单 —— SSH 守护进程很常见，多数管理员都有使用经验，并且多数操作系统都包含了它及相关的管理工具。
2. 通过 SSH 访问是安全的 —— 所有传输数据都要经过授权和加密。
3. SSH 协议很高效，在传输前也会尽量压缩数据。
#### 缺点
1. SSH 协议的缺点在于你不能通过他实现匿名访问。 即便只要读取数据，使用者也要有通过 SSH 访问你的主机的权限，这使得 SSH 协议不利于开源的项目。
2. 如果你需要同时提供仓库的匿名只读访问和SSH 协议，那么除了为自己推送架设SSH服务以外，还得架设一个可以让其他人访问的服务。
### Git协议
#### 介绍
它是包含在 Git 里的一个特殊的守护进程；监听在一个特定的端口（9418），类似于 SSH 服务，但是访问无需任何授权。 要让版本库支持 Git 协议，需要先创建一个 git-daemon-export-ok 文件 —— 它是 Git 协议守护进程为这个版本库提供服务的必要条件 —— 但是除此之外没有任何安全措施。 要么谁都可以克隆这个版本库，要么谁也不能。 这意味着，通常不能通过 Git 协议推送。 由于没有授权机制，一旦你开放推送操作，意味着网络上知道这个项目 URL 的人都可以向项目推送数据。
#### 优点 
 目前，Git 协议是 Git 使用的网络传输协议里最快的。 如果你的项目有很大的访问量，或者你的项目很庞大并且不需要为写进行用户授权，架设 Git 守护进程来提供服务是不错的选择。 它使用与 SSH 相同的数据传输机制，但是省去了加密和授权的开销。
#### 缺点 
 Git 协议缺点是缺乏授权机制。 把 Git 协议作为访问项目版本库的唯一手段是不可取的。 一般的做法里，会同时提供 SSH 或者 HTTPS 协议的访问服务，只让少数几个开发者有推送（写）权限，其他人通过 git:// 访问只有读权限。 Git 协议也许也是最难架设的。 它要求有自己的守护进程，这就要配置 xinetd 或者其他的程序，这些工作并不简单。 它还要求防火墙开放 9418 端口，但是企业防火墙一般不会开放这个非标准端口。 而大型的企业防火墙通常会封锁这个端口。
## Github的用法
正如上面所说的那样，github可以理解为一个大型的远程仓库托管平台，国内也有一个gitee可以使用。同时github.com作为一个开源的代码托管平台，非常适合创建自己的代码库，也适合从别人已有项目fork自己的私有库；但如果想私有托管，需要缴费使用。
### 使用方法
#### 创建自己代码库
1. 在个人主页面，点击右上角+号，选择New repository：
2. 在新页面输入Repository name，添加Description，选择Public/Private，或者添加一个README说明文件，设置好之后点击Create repository。即可完成创建。
3. 完成创建之后，可以也页面在线添加、编辑文件。也可以git clone到本地做修改，然后git add xxx/git commit –s –m ""/git push到github.com。
#### Fork别人代码
1. 点击仓库右上角的Fork即可Fork一个自己私有的库。
2. 然后可以将修改push到私有库中。但是有时候原库作出一些更新，私有库落后于原库，就需要将原库的跟新到私有库。
## Github桌面版使用
### 安装
由于我是windows进行的操作，因此此处阐述我是用windows进行安装的过程。
1. 首先去官网下载git：https://www.git-scm.com/download/ 选择自己操作系统对应的版本。
2. 双击安装包，按照安装引导一步一步来，就可以安装成功。git客户端完毕后，桌面会有两个图标。
### 使用
1. 双击运行客户端程序，在首页会出现登陆、注册等选项，输入自己的账号密码后可以登陆自己账号，客户端会显示出自己的所有仓库。
2. 在git客户端中，可以选择克隆仓库、创建新仓库、添加文件到仓库。
## Github的神奇用途
在学习github的过程中，我发现了github有非常多的神奇用途，下面我将会按照自己的想法一一介绍，可能不太完善，希望同学提提意见。
### 创建个人的博客
使用github可以免费创建自己的个人博客，只需要在自己的空间建一个特殊仓库，下面按照查找的资料
#### 我创建的博客模版
